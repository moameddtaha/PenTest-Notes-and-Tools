___

## About Polarity dig integration

### Purpose:

-   The Polarity dig integration allows you to run the dig command (domain information grope) through an integration. This tool allows you to quickly and easily retrieve DNS information for both domains and IP addresses.

### Library Used:

-   The integration leverages the "node-dig-dns" library, which provides a simple node wrapper for the unix/linux/macos dig command. This library allows the integration to run dig commands seamlessly within the Polarity platform.

### Default Query

-   By default, the integration runs an A record query for domains and a PTR (reverse DNS) query for IP addresses. This allows you to quickly retrieve basic DNS information for a given domain or IP address.

## How to use

### For domains:

-   To retrieve DNS information for a domain, simply enter the domain name into the integration and it will run the following dig command by default:

```ruby
dig A <domain> @dns-server
```

### For IP addresses:

-   To retrieve DNS information for an IP address, simply enter the IP address into the integration and it will run the following dig command by default:

```ruby
dig -x <ip-address> @dns-server
```

### Zone-transfers:

-   Zone-transfers are a less common feature, but they give us the keys to the DNS castle. [zonetransfer.me](https://digi.ninja/projects/zonetransferme.php) is a very useful service for testing for and learning about zone transfers:

```ruby
dig axfr @nsztm1.digi.ninja zonetransfer.me
```

## Summary

The Polarity dig integration is a powerful tool that allows you to easily retrieve DNS information for both domains and IP addresses. By leveraging the "node-dig-dns" library, the integration seamlessly integrates with the Polarity platform and allows for quick and efficient DNS lookups. Additionally, the integration also allows for zone-transfer testing, giving you access to even more DNS information. Overall, the Polarity dig integration is a valuable tool for any security professional or network administrator.

## Output explnation

![[Pasted image 20230122231001.png | 2000]]


This is the output of a DNS zone transfer command using the `dig` tool. The command being run is `dig axfr @nsztm1.digi.ninja zonetransfer.me`. The output shows the contents of the DNS zone for the domain "zonetransfer.me" that is being transferred from the DNS server "nsztm1.digi.ninja".

The output is composed of several lines, each of which represents a DNS record. Each line contains the following information:

-   **Name**: The name of the record. This can be a domain name or an IP address.
-   **TTL**: The time-to-live of the record, which is the number of seconds that the record can be cached by a resolver before it should be discarded and re-requested.
-   **Class**: The class of the record, which is typically "IN" for Internet.
-   **Type**: The type of the record, such as "A", "MX", "NS", etc.
-   **Data**: The data of the record, which can be an IP address, a hostname, or other information depending on the type of the record.

The output shows various types of records such as

-   **SOA**: Start of Authority which is the first record in a DNS zone file and it describes properties of the DNS namespace such as who is responsible for the domain, the primary name server, etc.
-   **HINFO**: Host information, it contains the type of the host and the Operating system
-   **TXT**: Text record
-   **MX**: Mail exchange record that is used to identify mail servers for a domain
-   **A**: Address record that maps a domain name to an IP address
-   **NS**: Name server record that maps a domain name to a list of name servers that provide DNS service for the domain
-   **PTR**: Pointer record that maps an IP address to a domain name
-   **AFSDB**: AFS server database record that is used to specify the location of an AFS cell's database server
-   **SRV**: Service record that defines the location of a specific service for a domain
-   **LOC**: Location


